<!DOCTYPE html>
<html>
<head>
    <style>
        /* Prevent scrolling and make the webpage transparent */
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Disable default scrolling */
            height: 100%;
            width: 100%;
            background: transparent; /* Transparent background */
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main container for the image and state list */
        .main-container {
            display: flex;
            width: 90vw;
            height: 90vh;
        }

        /* Frame state list */
        .state-list {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            width: 15%; /* Fixed width for the state list */
            height: 100%;
            overflow: hidden;
            text-align: center;
        }

        /* State item */
        .state-item {
            font-family: Arial, sans-serif;
            font-size: 1.2rem;
            color: black;
            opacity: 0.5; /* Default opacity for inactive states */
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        /* Highlighted active state */
        .state-item.active {
            opacity: 1; /* Full opacity for the active state */
            transform: scale(1.2); /* Slightly larger size for emphasis */
        }

        /* PNG container */
        .container {
            position: relative;
            flex: 1;
            height: 100%;
            overflow: hidden;
        }

        /* Center each frame absolutely within the container */
        .frame {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        .frame img {
            display: block;
            width: 100%; /* Fill the container width */
            height: 100%; /* Fill the container height */
            object-fit: contain; /* Maintain aspect ratio */
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="state-list"></div>
        <div class="container"></div>
    </div>

    <script>
        const container = document.querySelector('.container');
        const stateList = document.querySelector('.state-list');
        const frames = [];
        const stateItems = [];
        const scrollThreshold = 100; // Sensitivity for scroll progression
        let scrollDelta = 0; // Accumulated scroll value
        let currentFrameIndex = -1; // Track the current frame index; -1 means no frames visible

        // Create 20 frames and corresponding state items
        for (let i = 0; i < 20; i++) {
            // Create frame elements
            const frame = document.createElement('div');
            frame.className = 'frame';
            frame.style.zIndex = 20 - i; // Proper stacking order

            const img = document.createElement('img');
            img.src = `sigil_12_06/sig${i + 1}.png`; // Ensure this path is correct
            img.alt = `Frame ${i + 1}`;

            frame.appendChild(img);
            container.appendChild(frame);
            frames.push(frame);

            // Create corresponding state item
            const stateItem = document.createElement('div');
            stateItem.className = 'state-item';
            stateItem.textContent = `Frame ${i + 1}`;
            stateList.appendChild(stateItem);
            stateItems.push(stateItem);
        }

        // Update UI to reflect the active frame
        function updateActiveFrame(frameIndex) {
            // Update frames (cumulative visibility)
            frames.forEach((frame, index) => {
                frame.style.opacity = index <= frameIndex ? '1' : '0';
            });

            // Update state list
            stateItems.forEach((item, index) => {
                if (index === frameIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // Center the active state in the list
            const activeItem = stateItems[frameIndex];
            if (activeItem) {
                const listHeight = stateList.offsetHeight;
                const itemOffset = activeItem.offsetTop - listHeight / 2 + activeItem.offsetHeight / 2;
                stateList.scrollTop = itemOffset;
            }
        }

        // Handle scroll events
        window.addEventListener('wheel', (event) => {
            scrollDelta += event.deltaY; // Accumulate scroll values

            if (Math.abs(scrollDelta) >= scrollThreshold) {
                const direction = scrollDelta > 0 ? 1 : -1; // Determine direction
                const newFrameIndex = Math.min(
                    Math.max(currentFrameIndex + direction, 0),
                    frames.length - 1
                ); // Clamp between 0 and the last frame index

                if (newFrameIndex !== currentFrameIndex) {
                    currentFrameIndex = newFrameIndex;
                    updateActiveFrame(currentFrameIndex);
                }

                scrollDelta = 0; // Reset scroll delta
            }
        });

        // Initialize
        updateActiveFrame(0); // Start with the first frame visible
    </script>
</body>
</html>
