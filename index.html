<!DOCTYPE html>
<html>
<head>
    <style>
        /* Prevent scrolling and make the webpage transparent */
        html, body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* Disable default scrolling */
            height: 100%;
            width: 100%;
            background: transparent; /* Transparent background */
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Main container for the image and state list */
        .main-container {
            display: flex;
            width: 90vw;
            height: 90vh;
        }

        /* Frame state list */
        .state-list {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start; /* Left-align the text */
            width: 15%; /* Default width for the state list */
            height: 100%;
            overflow: hidden;
            text-align: left;
            font-family: 'IBM Plex Mono', monospace; /* Use IBM Plex Mono or fallback to monospace */
            font-size: 1rem;
            padding-left: 10px; /* Add padding to prevent cut-off text */
        }

        /* State item */
        .state-item {
            color: black;
            opacity: 0.5; /* Default opacity for inactive states */
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        /* Highlighted active state */
        .state-item.active {
            opacity: 1; /* Full opacity for the active state */
            transform: scale(1.1); /* Slightly larger size for emphasis */
        }

        /* PNG container */
        .container {
            position: relative;
            flex: 1;
            height: 100%;
            overflow: hidden;
        }

        /* Center each frame absolutely within the container */
        .frame {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }

        .frame img {
            display: block;
            width: 100%; /* Fill the container width */
            height: 100%; /* Fill the container height */
            object-fit: contain; /* Maintain aspect ratio */
        }

        /* Responsive adjustments */
        @media (max-width: 1200px) {
            .state-list {
                width: 12%; /* Shrink the state list width */
                font-size: 0.9rem; /* Smaller font size */
            }
        }

        @media (max-width: 900px) {
            .state-list {
                width: 10%; /* Further shrink state list width */
                font-size: 0.8rem; /* Smaller font size */
            }
        }

        @media (max-width: 600px) {
            .state-list {
                width: 8%; /* Minimized state list width */
                font-size: 0.7rem; /* Further reduce font size */
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="state-list"></div>
        <div class="container"></div>
    </div>

    <script>
        const container = document.querySelector('.container');
        const stateList = document.querySelector('.state-list');
        const frames = [];
        const stateItems = [];
        const scrollThreshold = 100; // Sensitivity for scroll progression
        let scrollDelta = 0; // Accumulated scroll value
        let currentFrameIndex = 0; // Start at Frame 0

        // Define custom names for the frames (including Frame 0)
        const frameNames = [
            "00_KHAOS",  // Frame 00
            "01_VOID",  
            "02_AETHER",
            "03_FLARE",
            "04_FUSION",
            "05_TERRA",
            "06_AQUA", 
            "07_PLASMA_LUX",  
            "08_GAIA",  
            "09_ANIMA",  
            "10_ARCHE",  
            "11_MATERIA",  
            "12_PRESENCE",  
            "13_KHAOS_REBORN",  
            "14_DARK_MATTER",  
            "15_ANTIMATTER",  
            "16_SYNTHESIS",  
            "17_GENIUS_LOCI",  
            "18_CHRONOS",  
            "19_ETHOS",  
            "20_UNIVERSE",  
            "21_HARMONY"  
        ];

        // Create Frame 0 (no visible image)
        const frame0 = document.createElement('div');
        frame0.className = 'frame';
        container.appendChild(frame0);
        frames.push(frame0);

        // Create remaining frames and corresponding state items
        for (let i = 1; i < frameNames.length; i++) {
            const frame = document.createElement('div');
            frame.className = 'frame';
            frame.style.zIndex = 20 - i;

            const img = document.createElement('img');
            img.src = `sigil_12_06/sig${i}.png`; // Ensure this path is correct
            img.alt = frameNames[i];

            // Check if the image exists to avoid errors
            img.onerror = () => {
                console.error(`Image not found: sigil_12_06/sig${i}.png`);
                frame.style.display = 'none'; // Hide frame if image is missing
            };

            frame.appendChild(img);
            container.appendChild(frame);
            frames.push(frame);

            // Create corresponding state item
            const stateItem = document.createElement('div');
            stateItem.className = 'state-item';
            stateItem.textContent = frameNames[i];
            stateList.appendChild(stateItem);
            stateItems.push(stateItem);
        }

        // Add Frame 0 state item to the list
        const frame0StateItem = document.createElement('div');
        frame0StateItem.className = 'state-item';
        frame0StateItem.textContent = frameNames[0];
        stateList.prepend(frame0StateItem);
        stateItems.unshift(frame0StateItem);

        // Update UI to reflect the active frame
        function updateActiveFrame(frameIndex) {
            // Update frames (cumulative visibility, except for Frame 0)
            frames.forEach((frame, index) => {
                if (frameIndex === 0) {
                    frame.style.opacity = '0'; // Frame 0 hides everything
                } else {
                    frame.style.opacity = index <= frameIndex ? '1' : '0';
                }
            });

            // Update state list
            stateItems.forEach((item, index) => {
                if (index === frameIndex) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // Center the active state in the list
            const activeItem = stateItems[frameIndex];
            if (activeItem) {
                const listHeight = stateList.offsetHeight;
                const itemOffset = activeItem.offsetTop - listHeight / 2 + activeItem.offsetHeight / 2;
                stateList.scrollTop = itemOffset;
            }
        }

        // Handle infinite scroll logic
        window.addEventListener('wheel', (event) => {
            scrollDelta += event.deltaY; // Accumulate scroll values

            if (Math.abs(scrollDelta) >= scrollThreshold) {
                const direction = scrollDelta > 0 ? 1 : -1; // Determine direction
                let newFrameIndex = currentFrameIndex + direction;

                // Infinite scrolling logic
                if (newFrameIndex > frames.length - 1) {
                    newFrameIndex = 0; // Wrap forward to Frame 0
                } else if (newFrameIndex < 0) {
                    newFrameIndex = frames.length - 1; // Wrap backward to Frame 20
                }

                // Update the frame index and UI
                currentFrameIndex = newFrameIndex;
                updateActiveFrame(currentFrameIndex);

                scrollDelta = 0; // Reset scroll delta
            }
        });

        // Initialize
        updateActiveFrame(0); // Start with Frame 0 (No Frame Active)
    </script>
</body>
</html>
